FROM ubuntu:xenial
RUN apt-get update && apt-get -y install wget golang-1.10 libgtk-3-dev gcc-mingw-w64-x86-64 g++-mingw-w64-x86-64 binutils-mingw-w64-x86-64 git
RUN cd /root && wget https://sourceforge.net/projects/mingw-w64/files/mingw-w64/mingw-w64-release/mingw-w64-v5.0-rc2.tar.bz2 && tar xfvj mingw-w64*.tar.bz2 && cd mingw-w64-v5.0-rc2 && ./configure --prefix /root/mingw --host=x86_64-w64-mingw32 && make install
RUN ls -la /root && ls -la /root/mingw/
COPY . app
RUN cd app && make GO=/usr/lib/go-1.10/bin/go linux && make windows GO=/usr/lib/go-1.10/bin/go MINGW_LIB=/root/mingw/lib
